# DESE EA PLAN v7.0 — Enterprise Ruleset

## 1. Mimari Prensipler (Architecture First)
- **Modular Monolith:** Kod tabanı `src/modules/{module_name}` altında ayrıştırılmalıdır.
- **DDD (Domain Driven Design):** İş mantığı servislerde (`service.ts`), veri erişimi repolarda olmalıdır.
- **Multi-tenancy:** Her veritabanı sorgusu `organization_id` kontrolü içermelidir.
- **Strict Typing:** `any` kullanımı YASAKTIR. Zod şemaları ve TypeScript interface'leri zorunludur.

## 2. Teknoloji Standartları (Tech Stack)
- **Frontend:** Next.js 16 (App Router), React 19, Tailwind CSS v4.
- **Backend:** Node.js 20, Express, Drizzle ORM (PostgreSQL).
- **AI & Botlar:** MCP (Model Context Protocol) sunucuları `src/mcp` altında tutulur.
- **State Management:** Zustand (Global), React Query (Server State).

## 3. Geliştirme Kuralları (Coding Standards)
- **Hybrid Dev Mode:** Frontend lokalde (`pnpm dev`), Backend Docker'da çalışır.
- **Schema Changes:** `src/db/schema` klasöründe modüler dosyalarda yapılır. Asla tek bir devasa `schema.ts` dosyası kullanılmaz.
- **Error Handling:** Tüm async işlemler `try/catch` veya `asyncHandler` ile sarılır.
- **Logging:** `console.log` yerine yapılandırılmış `logger` kullanılır.

## 4. Dokümantasyon & Dil
- **Dil:** Kod yorumları ve commit mesajları İngilizce, iş mantığı (Business Logic) ve UI metinleri Türkçe olabilir.
- **JSDoc:** Her yeni fonksiyon ve component için kısa bir açıklama eklenir.

## 5. Güvenlik (Security)
- Asla `.env` dosyasını commitleme.
- Kullanıcı verilerini (PII) loglama.
- Her API endpoint'i `authMiddleware` ile korunmalıdır.

## 6. Bellek ve Odak (Memory & Focus)
- **Eski Versiyonlar:** v6.x ve öncesi "Legacy" olarak kabul edilir. Sadece referans içindir, geliştirilmez.
- **Odak:** Şu anki tek gerçek "Enterprise Transformation Plan"dır (`DESE_EA_PLAN_TRANSFORMATION_REPORT.md`).
- **Hedef:** SaaS, ERP, CRM ve IoT özelliklerini entegre etmek.
