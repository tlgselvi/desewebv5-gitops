# Dese EA Plan – Cursor Kuralları

**Durum:** Bakım modunda üretim sistemi. Tüm değişiklikler hotfix veya bakım kapsamındadır.

---

## Temel Uygulamalar

- Path alias kullanımı zorunlu: `@/...`
- TypeScript’te `any` kullanılmaz; açık tipler tanımlanır.
- Loglama `logger` yardımıyla yapılır (`console.*` yasak).
- Async işlemler `try/catch` veya `asyncHandler` ile sarılır, hiçbir promise sahipsiz bırakılmaz.
- Veritabanı erişimi Drizzle ORM üzerinden yapılır; raw SQL yazılmaz.
- Gizli bilgiler `.env` / secret yönetimi ile yönetilir, kaynak koda gömülmez.

---

## MCP Sunucuları İçin Ek Şartlar

- Her uçta JWT doğrulaması + RBAC yetki kontrolü çalışır.
- Gerçek backend ve Prometheus API’lerine bağlanılır; mock veri kullanılmaz.
- Redis önbelleği (TTL varsayılan 60 sn) ve yapılandırılmış logging zorunludur.
- Hatalar `asyncHandler` ve merkezi error middleware’i ile ele alınır.

---

## Çalışma Akışı Kısa Notlar

- Ana şube korunur; geliştirme `feature/*` veya `fix/*` dallarında yapılır.
- PR açmadan önce `pnpm lint`, `pnpm test` ve ilgili Playwright senaryoları çalıştırılır.
- Operasyonel kararlar ve destek kanalları için `docs/OPERATIONS_GUIDE.md` referans alınır.
