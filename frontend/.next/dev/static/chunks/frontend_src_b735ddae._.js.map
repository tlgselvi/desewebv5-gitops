{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/components/ui/card.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport function Card({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return <div className={`rounded-lg border bg-card text-card-foreground shadow-sm ${className}`}>{children}</div>;\r\n}\r\n\r\nexport function CardHeader({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return <div className={`flex flex-col space-y-1.5 p-6 ${className}`}>{children}</div>;\r\n}\r\n\r\nexport function CardTitle({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return <h3 className={`text-2xl font-semibold leading-none tracking-tight ${className}`}>{children}</h3>;\r\n}\r\n\r\nexport function CardContent({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return <div className={`p-6 pt-0 ${className}`}>{children}</div>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAEO,SAAS,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IAClG,qBAAO,yMAAC;QAAI,WAAW,CAAC,yDAAyD,EAAE,WAAW;kBAAG;;;;;;AACnG;KAFgB;AAIT,SAAS,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IACxG,qBAAO,yMAAC;QAAI,WAAW,CAAC,8BAA8B,EAAE,WAAW;kBAAG;;;;;;AACxE;MAFgB;AAIT,SAAS,UAAU,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IACvG,qBAAO,yMAAC;QAAG,WAAW,CAAC,mDAAmD,EAAE,WAAW;kBAAG;;;;;;AAC5F;MAFgB;AAIT,SAAS,YAAY,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IACzG,qBAAO,yMAAC;QAAI,WAAW,CAAC,SAAS,EAAE,WAAW;kBAAG;;;;;;AACnD;MAFgB","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/components/ui/button.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'default' | 'secondary' | 'destructive' | 'outline';\r\n  size?: 'sm' | 'md' | 'lg';\r\n}\r\n\r\nexport function Button({ children, className = '', variant = 'default', size = 'md', ...props }: ButtonProps) {\r\n  const baseStyles = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50';\r\n  \r\n  const variants = {\r\n    default: 'bg-primary text-primary-foreground hover:bg-primary/90',\r\n    secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\r\n    destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\r\n    outline: 'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\r\n  };\r\n  \r\n  const sizes = {\r\n    sm: 'h-9 px-3 text-sm',\r\n    md: 'h-10 px-4 py-2',\r\n    lg: 'h-11 px-8',\r\n  };\r\n  \r\n  return (\r\n    <button className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`} {...props}>\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AAOO,SAAS,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,GAAG,OAAoB;IAC1G,MAAM,aAAa;IAEnB,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,aAAa;QACb,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,yMAAC;QAAO,WAAW,GAAG,WAAW,CAAC,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBAC3F;;;;;;AAGP;KArBgB","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/components/ui/input.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport function Input({ className = '', ...props }: React.InputHTMLAttributes<HTMLInputElement>) {\r\n  return (\r\n    <input\r\n      className={`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,OAAoD;IAC7F,qBACE,yMAAC;QACC,WAAW,CAAC,6VAA6V,EAAE,WAAW;QACrX,GAAG,KAAK;;;;;;AAGf;KAPgB","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/components/ui/badge.tsx"],"sourcesContent":["import React from 'react';\r\n\r\ninterface BadgeProps extends React.HTMLAttributes<HTMLSpanElement> {\r\n  variant?: 'default' | 'destructive' | 'secondary';\r\n}\r\n\r\nexport function Badge({ children, className = '', variant = 'default', ...props }: BadgeProps) {\r\n  const variants = {\r\n    default: 'bg-primary text-primary-foreground',\r\n    destructive: 'bg-destructive text-destructive-foreground',\r\n    secondary: 'bg-secondary text-secondary-foreground',\r\n  };\r\n  \r\n  return (\r\n    <span className={`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors ${variants[variant]} ${className}`} {...props}>\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,GAAG,OAAmB;IAC3F,MAAM,WAAW;QACf,SAAS;QACT,aAAa;QACb,WAAW;IACb;IAEA,qBACE,yMAAC;QAAK,WAAW,CAAC,4FAA4F,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,WAAW;QAAG,GAAG,KAAK;kBACxJ;;;;;;AAGP;KAZgB","debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/components/ui/select.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState } from 'react';\r\n\r\ninterface SelectProps {\r\n  value?: string;\r\n  onValueChange?: (value: string) => void;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function Select({ value, onValueChange, children }: SelectProps) {\r\n  return <div className=\"relative\">{children}</div>;\r\n}\r\n\r\nexport function SelectTrigger({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return (\r\n    <button\r\n      className={`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\nexport function SelectValue({ placeholder }: { placeholder?: string }) {\r\n  return <span className=\"text-muted-foreground\">{placeholder}</span>;\r\n}\r\n\r\ninterface SelectContentProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function SelectContent({ children }: SelectContentProps) {\r\n  return (\r\n    <div className=\"absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md\">\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface SelectItemProps {\r\n  value: string;\r\n  children: React.ReactNode;\r\n  onSelect?: (value: string) => void;\r\n}\r\n\r\nexport function SelectItem({ value, children, onSelect }: SelectItemProps) {\r\n  return (\r\n    <div\r\n      className=\"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\r\n      onClick={() => onSelect?.(value)}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;AASO,SAAS,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,QAAQ,EAAe;IACpE,qBAAO,yMAAC;QAAI,WAAU;kBAAY;;;;;;AACpC;KAFgB;AAIT,SAAS,cAAc,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IAC3G,qBACE,yMAAC;QACC,WAAW,CAAC,0RAA0R,EAAE,WAAW;kBAElT;;;;;;AAGP;MARgB;AAUT,SAAS,YAAY,EAAE,WAAW,EAA4B;IACnE,qBAAO,yMAAC;QAAK,WAAU;kBAAyB;;;;;;AAClD;MAFgB;AAQT,SAAS,cAAc,EAAE,QAAQ,EAAsB;IAC5D,qBACE,yMAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;MANgB;AAcT,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAmB;IACvE,qBACE,yMAAC;QACC,WAAU;QACV,SAAS,IAAM,WAAW;kBAEzB;;;;;;AAGP;MATgB","debugId":null}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/components/ui/tabs.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, createContext, useContext } from 'react';\r\n\r\ninterface TabsContextType {\r\n  value: string;\r\n  onValueChange: (value: string) => void;\r\n}\r\n\r\nconst TabsContext = createContext<TabsContextType | null>(null);\r\n\r\ninterface TabsProps {\r\n  defaultValue?: string;\r\n  value?: string;\r\n  onValueChange?: (value: string) => void;\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport function Tabs({ defaultValue, value: controlledValue, onValueChange, children, className = '' }: TabsProps) {\r\n  const [internalValue, setInternalValue] = useState(defaultValue || '');\r\n  const isControlled = controlledValue !== undefined;\r\n  const value = isControlled ? controlledValue : internalValue;\r\n  const setValue = (newValue: string) => {\r\n    if (!isControlled) {\r\n      setInternalValue(newValue);\r\n    }\r\n    if (onValueChange) {\r\n      onValueChange(newValue);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <TabsContext.Provider value={{ value, onValueChange: setValue }}>\r\n      <div className={className}>{children}</div>\r\n    </TabsContext.Provider>\r\n  );\r\n}\r\n\r\nexport function TabsList({ children, className = '' }: { children: React.ReactNode; className?: string }) {\r\n  return (\r\n    <div className={`inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground ${className}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface TabsTriggerProps {\r\n  value: string;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function TabsTrigger({ value, children }: TabsTriggerProps) {\r\n  const context = useContext(TabsContext);\r\n  if (!context) throw new Error('TabsTrigger must be inside Tabs');\r\n  \r\n  const { value: currentValue, onValueChange } = context;\r\n  const isActive = currentValue === value;\r\n  \r\n  return (\r\n    <button\r\n      onClick={() => onValueChange(value)}\r\n      className={`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ${\r\n        isActive ? 'bg-background text-foreground shadow-sm' : 'hover:bg-background/50'\r\n      }`}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n}\r\n\r\ninterface TabsContentProps {\r\n  value: string;\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}\r\n\r\nexport function TabsContent({ value, children, className = '' }: TabsContentProps) {\r\n  const context = useContext(TabsContext);\r\n  if (!context) throw new Error('TabsContent must be inside Tabs');\r\n  \r\n  const { value: currentValue } = context;\r\n  \r\n  if (currentValue !== value) return null;\r\n  \r\n  return <div className={className}>{children}</div>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;AACA;;;AADA;;AAQA,MAAM,4BAAc,IAAA,0LAAa,EAAyB;AAUnD,SAAS,KAAK,EAAE,YAAY,EAAE,OAAO,eAAe,EAAE,aAAa,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAa;;IAC/G,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,qLAAQ,EAAC,gBAAgB;IACnE,MAAM,eAAe,oBAAoB;IACzC,MAAM,QAAQ,eAAe,kBAAkB;IAC/C,MAAM,WAAW,CAAC;QAChB,IAAI,CAAC,cAAc;YACjB,iBAAiB;QACnB;QACA,IAAI,eAAe;YACjB,cAAc;QAChB;IACF;IAEA,qBACE,yMAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAO,eAAe;QAAS;kBAC5D,cAAA,yMAAC;YAAI,WAAW;sBAAY;;;;;;;;;;;AAGlC;GAlBgB;KAAA;AAoBT,SAAS,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAqD;IACtG,qBACE,yMAAC;QAAI,WAAW,CAAC,2FAA2F,EAAE,WAAW;kBACtH;;;;;;AAGP;MANgB;AAaT,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAoB;;IAC/D,MAAM,UAAU,IAAA,uLAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAE9B,MAAM,EAAE,OAAO,YAAY,EAAE,aAAa,EAAE,GAAG;IAC/C,MAAM,WAAW,iBAAiB;IAElC,qBACE,yMAAC;QACC,SAAS,IAAM,cAAc;QAC7B,WAAW,CAAC,gSAAgS,EAC1S,WAAW,4CAA4C,0BACvD;kBAED;;;;;;AAGP;IAjBgB;MAAA;AAyBT,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAoB;;IAC/E,MAAM,UAAU,IAAA,uLAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAE9B,MAAM,EAAE,OAAO,YAAY,EAAE,GAAG;IAEhC,IAAI,iBAAiB,OAAO,OAAO;IAEnC,qBAAO,yMAAC;QAAI,WAAW;kBAAY;;;;;;AACrC;IATgB;MAAA","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///C:/desesonpro/desewebv5/frontend/src/app/admin/audit/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { CalendarIcon, DownloadIcon, ShieldCheck, Trash2, Filter } from \"lucide-react\";\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer, CartesianGrid } from \"recharts\";\r\n\r\n// --- Helpers ---------------------------------------------------------------\r\n\r\nconst fmtDate = (d?: string | number | Date) => d ? new Date(d).toLocaleString() : \"\";\r\n\r\nconst toQuery = (params: Record<string, string | number | undefined>) =>\r\n  Object.entries(params)\r\n    .filter(([, v]) => v !== undefined && v !== \"\")\r\n    .map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(String(v))}`)\r\n    .join(\"&\");\r\n\r\n// A very small in-memory store to dedupe live WS events\r\nconst useEventBuffer = (max = 500) => {\r\n  const setRef = useRef(new Set<string>());\r\n  return {\r\n    seen(id: string) {\r\n      const s = setRef.current;\r\n      if (s.has(id)) return true;\r\n      s.add(id);\r\n      if (s.size > max) {\r\n        // drop oldest\r\n        const first = s.values().next().value as string | undefined;\r\n        if (first) s.delete(first);\r\n      }\r\n      return false;\r\n    },\r\n  };\r\n};\r\n\r\n// --- API hooks -------------------------------------------------------------\r\n\r\nasync function fetchAudit(filters: any) {\r\n  const q = toQuery(filters);\r\n  const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n  const res = await fetch(`${baseUrl}/api/v1/audit?${q}`, { \r\n    credentials: \"include\",\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('token') || ''}`,\r\n    },\r\n  });\r\n  if (!res.ok) {\r\n    // Handle authentication errors\r\n    if (res.status === 401 || res.status === 403) {\r\n      // Clear invalid token\r\n      localStorage.removeItem('token');\r\n      // Redirect to login page\r\n      if (typeof window !== 'undefined') {\r\n        window.location.href = '/login';\r\n      }\r\n      throw new Error('Authentication required. Please login.');\r\n    }\r\n    \r\n    const errorText = await res.text();\r\n    let errorMessage = \"audit_fetch_failed\";\r\n    try {\r\n      const errorJson = JSON.parse(errorText);\r\n      errorMessage = errorJson.error || errorJson.message || errorMessage;\r\n    } catch {\r\n      // If response is not JSON, use status text\r\n      errorMessage = res.statusText || errorMessage;\r\n    }\r\n    throw new Error(`${errorMessage} (${res.status})`);\r\n  }\r\n  const json = await res.json();\r\n  return (json.data || json) as any[];\r\n}\r\n\r\nasync function exportMyData() {\r\n  const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n  const res = await fetch(`${baseUrl}/api/v1/privacy/export`, { \r\n    method: \"POST\", \r\n    credentials: \"include\",\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('token') || ''}`,\r\n    },\r\n  });\r\n  if (!res.ok) throw new Error(\"export_failed\");\r\n  return (await res.json()) as { ok: boolean; fileUrl?: string };\r\n}\r\n\r\nasync function deleteMyData() {\r\n  const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n  const res = await fetch(`${baseUrl}/api/v1/privacy/delete`, { \r\n    method: \"POST\", \r\n    credentials: \"include\",\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('token') || ''}`,\r\n    },\r\n  });\r\n  if (!res.ok) throw new Error(\"delete_failed\");\r\n  return (await res.json()) as { ok: boolean };\r\n}\r\n\r\nasync function getConsents() {\r\n  const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n  const res = await fetch(`${baseUrl}/api/v1/privacy/consent`, { \r\n    credentials: \"include\",\r\n    headers: {\r\n      'Authorization': `Bearer ${localStorage.getItem('token') || ''}`,\r\n    },\r\n  });\r\n  if (!res.ok) throw new Error(\"consent_get_failed\");\r\n  return (await res.json()).data as Array<{ id: string; purpose: string; status: boolean; ts: string }>;\r\n}\r\n\r\nasync function setConsent(purpose: string, status: boolean) {\r\n  const baseUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\r\n  const res = await fetch(`${baseUrl}/api/v1/privacy/consent`, {\r\n    method: \"PUT\",\r\n    headers: { \r\n      \"Content-Type\": \"application/json\",\r\n      'Authorization': `Bearer ${localStorage.getItem('token') || ''}`,\r\n    },\r\n    body: JSON.stringify({ purpose, status }),\r\n    credentials: \"include\",\r\n  });\r\n  if (!res.ok) throw new Error(\"consent_set_failed\");\r\n  return (await res.json()) as { ok: boolean };\r\n}\r\n\r\n// --- Components ------------------------------------------------------------\r\n\r\nfunction AuditFilters({ onChange }: { onChange: (f: Record<string, any>) => void }) {\r\n  const [userId, setUserId] = useState(\"\");\r\n  const [resource, setResource] = useState(\"\");\r\n  const [action, setAction] = useState(\"\");\r\n  const [status, setStatus] = useState(\"\");\r\n  const [from, setFrom] = useState(\"\");\r\n  const [to, setTo] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-2 md:grid-cols-6 gap-3 items-end\">\r\n      <Input placeholder=\"User ID\" value={userId} onChange={(e) => setUserId(e.target.value)} />\r\n      <Input placeholder=\"Resource\" value={resource} onChange={(e) => setResource(e.target.value)} />\r\n      <Input placeholder=\"Action\" value={action} onChange={(e) => setAction(e.target.value)} />\r\n      <Select value={status} onValueChange={setStatus}>\r\n        <SelectTrigger><SelectValue placeholder=\"Status\" /></SelectTrigger>\r\n        <SelectContent>\r\n          <SelectItem value=\"\">Any</SelectItem>\r\n          <SelectItem value=\"200\">200</SelectItem>\r\n          <SelectItem value=\"401\">401</SelectItem>\r\n          <SelectItem value=\"403\">403</SelectItem>\r\n          <SelectItem value=\"500\">500</SelectItem>\r\n        </SelectContent>\r\n      </Select>\r\n      <div className=\"flex items-center gap-2\">\r\n        <CalendarIcon className=\"w-4 h-4 opacity-60\" />\r\n        <Input type=\"datetime-local\" value={from} onChange={(e) => setFrom(e.target.value)} />\r\n      </div>\r\n      <div className=\"flex items-center gap-2\">\r\n        <CalendarIcon className=\"w-4 h-4 opacity-60\" />\r\n        <Input type=\"datetime-local\" value={to} onChange={(e) => setTo(e.target.value)} />\r\n      </div>\r\n      <div className=\"col-span-2 md:col-span-6 flex gap-2\">\r\n        <Button variant=\"secondary\" onClick={() => { setUserId(\"\"); setResource(\"\"); setAction(\"\"); setStatus(\"\"); setFrom(\"\"); setTo(\"\"); onChange({}); }}>\r\n          Reset\r\n        </Button>\r\n        <Button onClick={() => onChange({ userId, resource, action, status, from, to })}>\r\n          <Filter className=\"w-4 h-4 mr-2\" /> Uygula\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AuditTable({ rows }: { rows: any[] }) {\r\n  return (\r\n    <div className=\"w-full overflow-auto\">\r\n      <table className=\"min-w-full text-sm\">\r\n        <thead className=\"text-left text-muted-foreground border-b\">\r\n          <tr>\r\n            <th className=\"py-2 pr-4\">TS</th>\r\n            <th className=\"py-2 pr-4\">User</th>\r\n            <th className=\"py-2 pr-4\">Method</th>\r\n            <th className=\"py-2 pr-4\">Path</th>\r\n            <th className=\"py-2 pr-4\">Res</th>\r\n            <th className=\"py-2 pr-4\">Act</th>\r\n            <th className=\"py-2 pr-4\">Status</th>\r\n            <th className=\"py-2 pr-4\">Latency</th>\r\n            <th className=\"py-2 pr-4\">Trace</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {rows.map((r) => (\r\n            <tr key={r.id} className=\"border-b hover:bg-muted/40\">\r\n              <td className=\"py-2 pr-4 whitespace-nowrap\">{fmtDate(r.ts)}</td>\r\n              <td className=\"py-2 pr-4\">{r.userId ?? \"-\"}</td>\r\n              <td className=\"py-2 pr-4\">{r.method}</td>\r\n              <td className=\"py-2 pr-4 max-w-[420px] truncate\" title={r.path}>{r.path}</td>\r\n              <td className=\"py-2 pr-4\">{r.resource ?? \"-\"}</td>\r\n              <td className=\"py-2 pr-4\">{r.action ?? \"-\"}</td>\r\n              <td className=\"py-2 pr-4\"><Badge variant={r.status >= 400 ? \"destructive\" : \"default\"}>{r.status}</Badge></td>\r\n              <td className=\"py-2 pr-4\">{r.latencyMs} ms</td>\r\n              <td className=\"py-2 pr-4\">{r.traceId ?? \"-\"}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AuditChart({ rows }: { rows: any[] }) {\r\n  const data = useMemo(() => {\r\n    const buckets = new Map<string, { ts: string; ok: number; err: number }>();\r\n    for (const r of rows) {\r\n      const key = new Date(r.ts).toISOString().slice(0, 16); // minute bucket\r\n      const b = buckets.get(key) ?? { ts: key, ok: 0, err: 0 };\r\n      if (r.status >= 400) b.err += 1; else b.ok += 1;\r\n      buckets.set(key, b);\r\n    }\r\n    return Array.from(buckets.values());\r\n  }, [rows]);\r\n\r\n  return (\r\n    <div className=\"h-52\">\r\n      <ResponsiveContainer>\r\n        <LineChart data={data} margin={{ left: 12, right: 12, top: 10, bottom: 0 }}>\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"ts\" hide />\r\n          <YAxis allowDecimals={false} />\r\n          <Tooltip />\r\n          <Line type=\"monotone\" dataKey=\"ok\" stroke=\"#16a34a\" strokeWidth={2} dot={false} name=\"OK\" />\r\n          <Line type=\"monotone\" dataKey=\"err\" stroke=\"#dc2626\" strokeWidth={2} dot={false} name=\"ERR\" />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PrivacyPanel() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [consents, setConsents] = useState<Array<{ id: string; purpose: string; status: boolean; ts: string }>>([]);\r\n\r\n  const refresh = async () => {\r\n    try {\r\n      const data = await getConsents();\r\n      setConsents(data);\r\n    } catch {}\r\n  };\r\n\r\n  useEffect(() => { refresh(); }, []);\r\n\r\n  const onExport = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await exportMyData();\r\n      if (res.fileUrl) window.open(res.fileUrl, \"_blank\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onDelete = async () => {\r\n    if (!confirm(\"Verilerin kalıcı olarak silinecek. Devam?\")) return;\r\n    setLoading(true);\r\n    try {\r\n      await deleteMyData();\r\n      alert(\"Silme işlemi tetiklendi.\");\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  const toggleConsent = async (purpose: string, cur: boolean) => {\r\n    await setConsent(purpose, !cur);\r\n    await refresh();\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid gap-4 md:grid-cols-2\">\r\n      <Card className=\"col-span-1\">\r\n        <CardHeader><CardTitle>Veri İhracı</CardTitle></CardHeader>\r\n        <CardContent className=\"flex items-center gap-3\">\r\n          <Button onClick={onExport} disabled={loading}>\r\n            <DownloadIcon className=\"w-4 h-4 mr-2\" /> Export JSON\r\n          </Button>\r\n          <p className=\"text-sm text-muted-foreground\">Kişisel verilerinizi JSON olarak indirir.</p>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"col-span-1\">\r\n        <CardHeader><CardTitle>Veri Silme</CardTitle></CardHeader>\r\n        <CardContent className=\"flex items-center gap-3\">\r\n          <Button variant=\"destructive\" onClick={onDelete} disabled={loading}>\r\n            <Trash2 className=\"w-4 h-4 mr-2\" /> Silme Talebi\r\n          </Button>\r\n          <p className=\"text-sm text-muted-foreground\">Kalıcı silme işlemine başlanır. Geri alınamaz.</p>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card className=\"col-span-2\">\r\n        <CardHeader><CardTitle>Onay Yönetimi</CardTitle></CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            {[\r\n              { purpose: \"essential\", label: \"Zorunlu\" },\r\n              { purpose: \"analytics\", label: \"Analitik\" },\r\n              { purpose: \"marketing\", label: \"Pazarlama\" },\r\n            ].map(({ purpose, label }) => {\r\n              const item = consents.find((c) => c.purpose === purpose);\r\n              const enabled = !!item?.status;\r\n              return (\r\n                <Button key={purpose} variant={enabled ? \"default\" : \"secondary\"} onClick={() => toggleConsent(purpose, enabled)}>\r\n                  <ShieldCheck className=\"w-4 h-4 mr-2\" /> {label}: {enabled ? \"Açık\" : \"Kapalı\"}\r\n                </Button>\r\n              );\r\n            })}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function AdminAuditPrivacy() {\r\n  const [filters, setFilters] = useState<Record<string, any>>({});\r\n  const [auditRows, setAuditRows] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const buffer = useEventBuffer();\r\n\r\n  const refresh = async (f = filters) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try { \r\n      setAuditRows(await fetchAudit(f)); \r\n    } catch (err: any) {\r\n      setError(err.message || 'Failed to fetch audit logs');\r\n      console.error('Audit fetch error:', err);\r\n      // If it's an auth error, the fetchAudit function will redirect\r\n      // So we don't need to show error message for auth errors\r\n      if (err.message?.includes('Authentication required')) {\r\n        return; // Redirect is happening\r\n      }\r\n    } finally { \r\n      setLoading(false); \r\n    }\r\n  };\r\n\r\n  useEffect(() => { refresh(); }, []);\r\n\r\n  useEffect(() => {\r\n    // Live updates via WS\r\n    let ws: WebSocket | null = null;\r\n    try {\r\n      const wsUrl = process.env.NEXT_PUBLIC_WS_URL || `ws://${location.host.replace(':3000', ':3001')}/ws`;\r\n      const proto = location.protocol === \"https:\" ? \"wss\" : \"ws\";\r\n      const finalUrl = wsUrl.startsWith('ws') ? wsUrl : `${proto}://${location.host.replace(':3000', ':3001')}/ws`;\r\n      ws = new WebSocket(finalUrl);\r\n      ws.onmessage = (ev) => {\r\n        try {\r\n          const msg = JSON.parse(ev.data);\r\n          if (!msg?.type) return;\r\n          if (buffer.seen(msg.eventId || msg.id || `${msg.type}-${msg.ts}`)) return;\r\n          // On any new event, refresh with current filters\r\n          refresh();\r\n        } catch {}\r\n      };\r\n      ws.onerror = () => {\r\n        // Silently fail WebSocket connection\r\n      };\r\n    } catch {}\r\n    return () => { try { ws?.close(); } catch {} };\r\n  }, []);\r\n\r\n  const statusStats = useMemo(() => {\r\n    const map = new Map<number, number>();\r\n    for (const r of auditRows) map.set(r.status, (map.get(r.status) ?? 0) + 1);\r\n    return Array.from(map.entries()).sort((a, b) => a[0] - b[0]);\r\n  }, [auditRows]);\r\n\r\n  return (\r\n    <main className=\"p-4 md:p-6 grid gap-4\">\r\n      <motion.h1 initial={{ opacity: 0, y: -8 }} animate={{ opacity: 1, y: 0 }} className=\"text-2xl font-semibold\">\r\n        Admin • Audit & Privacy\r\n      </motion.h1>\r\n\r\n      <Tabs defaultValue=\"audit\" className=\"w-full\">\r\n        <TabsList>\r\n          <TabsTrigger value=\"audit\">Audit</TabsTrigger>\r\n          <TabsTrigger value=\"privacy\">Privacy</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"audit\" className=\"grid gap-4\">\r\n          {error && !error.includes('Authentication required') && (\r\n            <Card className=\"border-red-200 bg-red-50\">\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"flex items-center gap-2 text-red-700\">\r\n                  <span className=\"text-lg\">⚠️</span>\r\n                  <p className=\"text-sm\">{error}</p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          )}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center justify-between\">\r\n                <span>Filtreler</span>\r\n                <Button size=\"sm\" variant=\"outline\" onClick={() => refresh(filters)}>\r\n                  Yenile\r\n                </Button>\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <AuditFilters onChange={(f) => { setFilters(f); refresh(f); }} />\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <div className=\"grid md:grid-cols-3 gap-4\">\r\n            <Card>\r\n              <CardHeader><CardTitle>Durum Dağılımı</CardTitle></CardHeader>\r\n              <CardContent>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {statusStats.map(([code, count]) => (\r\n                    <Badge key={code} variant={code >= 400 ? \"destructive\" : \"default\"}>{code}: {count}</Badge>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n            <Card className=\"md:col-span-2\">\r\n              <CardHeader><CardTitle>Zaman Serisi</CardTitle></CardHeader>\r\n              <CardContent>\r\n                <AuditChart rows={auditRows} />\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">Kayıtlar {loading && <span className=\"text-xs text-muted-foreground\">yükleniyor…</span>}</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <AuditTable rows={auditRows} />\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"privacy\">\r\n          <PrivacyPanel />\r\n        </TabsContent>\r\n      </Tabs>\r\n    </main>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}